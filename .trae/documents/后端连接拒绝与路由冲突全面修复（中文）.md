## 目标
- 让后端稳定监听在 `http://localhost:3001`，前端所有接口不再出现 `net::ERR_CONNECTION_REFUSED`
- 清理重复路由导致的 Fastify 启动异常
- 验证 Token 心跳接口与 Socket.IO 连接
- 顺手消除 antd `Spin` 的 `tip` 使用警告（非阻塞）

## 实施步骤
1. 路由冲突扫描与清理
- 扫描 `server/routes` 目录，识别 method+path 重复的路由（尤其 `quality-inspection.js` 内残留重复）
- 删除重复实现，仅保留一份逻辑一致的路由（POST/GET/PUT/DELETE）

2. 确认后端启动流程
- 在 `server/index.js` 保留 `start()` 后的监听日志与 Socket.IO 初始化日志，确保启动后的可观测性
- 移除会导致版本不匹配或启动中断的插件注册（已处理 rate-limit）

3. 认证心跳接口
- 保留并验证 `GET /api/auth/verify-token` 与前端 `useTokenVerification.js` 一致
- 返回 `{ success, valid, kicked? }` 结构，保证前端判断逻辑兼容

4. 运行与验证
- 单独运行后端，确认打印监听日志
- 前端连接到 `http://localhost:5174`，验证：
  - `/api/auth/verify-token` 正常响应
  - `/api/departments`、`/api/employees`、`/api/positions`、`/api/roles`、`/api/notifications/unread` 等接口可访问
  - Socket.IO 无 xhr poll 错误，正常连接

5. antd `Spin` 提示优化（可选）
- 在 `App.jsx` 中仅在嵌套或 `fullscreen` 时使用 `tip`；非阻塞，可稍后调整

## 交付
- 清理重复路由，后端稳定监听
- 心跳接口可用，Socket.IO 正常
- 前端不再出现连接拒绝错误