## 问题定位
- 路由与导入不一致：
  - `src/App.jsx` 在 `switch` 中使用 `<ChatPage />`，但未导入该组件，点击“聊天通讯”会抛出 `ChatPage is not defined`
  - 统计菜单项缺失：`App.jsx` 存在 `statistics-viewing` 路由键，`src/components/Sidebar.jsx` 的统计菜单未包含该项
  - 通知菜单不匹配：侧边栏含 `notification-management`，`App.jsx` 路由为 `notification-sender`，导致点击后落到默认页
- 考试接口不一致：
  - `src/components/ExamTaking.jsx` 调用 `GET /api/exams/:id/take`，后端未实现该端点；后端作答流程使用 `assessment-results` 路由（`start/get/answer/submit`）
- 质检页面数据形态：
  - 质检消息接口返回 `{ success, data }`，`QualityInspection.jsx` 需读取 `response.data.data`
- 聊天页 API 与配置：
  - `src/pages/ChatPage.jsx` 与 `src/utils/socket.js` 直接硬编码 `http://localhost:3001`，不使用 `getApiUrl`，在非本地或端口变更时会报错

## 修复方案
- 路由与导航一致化：
  - 在 `src/App.jsx` 顶部新增懒加载导入：`const ChatPage = lazy(() => import('./pages/ChatPage'));`
  - 在 `src/components/Sidebar.jsx` 的 `statistics` 菜单中新增 `{ id: 'statistics-viewing', label: '浏览统计', icon: '📈' }`
  - 将 `notifications` 菜单的 `notification-management` 改为 `notification-sender`，与 `App.jsx` 路由保持一致
- 考试作答流程改造（前端）：
  - `ExamTaking.jsx`
    - 开考：调用 `POST /api/assessment-results/start`（参数：`exam_id`, `plan_id`），获取 `result_id`、`exam`、`questions` 与剩余时间
    - 进度查询：`GET /api/assessment-results/:result_id`（断点续答与剩余时间）
    - 自动保存：在答题变更时触发 `PUT /api/assessment-results/:result_id/answer`（参数：`question_id`, `answer`）
    - 提交试卷：`POST /api/assessment-results/:result_id/submit`
    - 查看结果：`GET /api/assessment-results/:result_id/result`
  - 移除对不存在端点 `GET /api/exams/:id/take` 的调用，改为上述流程
- 质检页面数据读取：
  - `QualityInspection.jsx` 获取会话消息统一读取 `response.data.data`
- 聊天页 API 基址统一：
  - `ChatPage.jsx` 与 `src/utils/socket.js` 将硬编码 URL 替换为 `getApiUrl`/`getApiBaseUrl` 生成地址，确保环境兼容

## 错误处理与渲染完善
- 统一检测响应结构：优先判断 `response.data.success` 与存在性，再渲染或 `toast.error`
- 为空态与加载态：所有列表与图表在空数据时给出空态提示，加载中显示占位
- 生命周期与状态：
  - 聊天页：在 `selectedConversation` 变化时重置 `messages/offset/hasMore`，避免交叉污染；移除所有 socket 监听于卸载阶段
  - 考试页：倒计时定时器清理、页面可见性监控与自动提交逻辑保持一致

## 导航控制与权限
- 侧边栏过滤逻辑保留：`admin` 菜单项仅管理员显示
- 验证导航与路由键一一对应：所有 `children.id` 均有 `App.jsx` 中的 `case` 匹配

## 测试验证
- 聊天通讯：
  - 进入“即时通讯/群组管理”不再报错，列表加载成功，消息收发与上传媒体正常；在断网时提示错误
- 考试：
  - “我的考试”进入作答，能开考获取题目，自动保存在切换题目与输入变更时触发；提交后进入结果页
- 质检：
  - 会话消息展示正确（客服/客户气泡方向），评分提交后刷新列表
- 导航：
  - 统计菜单显示正确条目；通知中心/发送/设置均能进入对应页面；非管理员隐藏管理项
- 多角色：
  - 管理员与普通用户切换，侧边栏显示符合预期

## 交付内容
- 前端代码更新：`App.jsx`、`Sidebar.jsx`、`ExamTaking.jsx`、`ChatPage.jsx`、`utils/socket.js`、`QualityInspection.jsx`
- 验收标准：上述模块均无控制台报错，导航项数量与路由一致，接口调用成功，错误机制能正确提示