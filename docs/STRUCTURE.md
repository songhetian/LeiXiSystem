# é¡¹ç›®ç»“æ„è¯´æ˜

## å®Œæ•´ç›®å½•æ ‘

```
customer-service-desktop/
â”‚
â”œâ”€â”€ ğŸ“ electron/                    # Electron ä¸»è¿›ç¨‹
â”‚   â”œâ”€â”€ main.js                    # çª—å£ç®¡ç†ã€åº”ç”¨ç”Ÿå‘½å‘¨æœŸ
â”‚   â””â”€â”€ preload.js                 # é¢„åŠ è½½è„šæœ¬
â”‚
â”œâ”€â”€ ğŸ“ server/                      # Fastify åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ index.js                   # API è·¯ç”±å’Œä¸šåŠ¡é€»è¾‘
â”‚   â””â”€â”€ config.js                  # é…ç½®ç®¡ç†
â”‚
â”œâ”€â”€ ğŸ“ src/                         # React å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ ğŸ“ api/                    # API æ¥å£å°è£…
â”‚   â”‚   â””â”€â”€ index.js               # Axios å®ä¾‹å’Œæ¥å£å®šä¹‰
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“ components/             # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Sidebar.jsx            # ä¾§è¾¹æ å¯¼èˆª
â”‚   â”‚   â”œâ”€â”€ CustomerList.jsx       # å®¢æœåˆ—è¡¨é¡µé¢
â”‚   â”‚   â”œâ”€â”€ CustomerForm.jsx       # å®¢æœè¡¨å•ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ SessionManagement.jsx  # ä¼šè¯ç®¡ç†é¡µé¢
â”‚   â”‚   â”œâ”€â”€ QualityInspection.jsx  # è´¨æ£€ç®¡ç†é¡µé¢
â”‚   â”‚   â””â”€â”€ Modal.jsx              # æ¨¡æ€æ¡†ç»„ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ App.jsx                    # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ main.jsx                   # React å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ index.css                  # å…¨å±€æ ·å¼
â”‚
â”œâ”€â”€ ğŸ“ database/                    # æ•°æ®åº“è„šæœ¬
â”‚   â””â”€â”€ init.sql                   # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”‚
â”œâ”€â”€ ğŸ“„ package.json                 # é¡¹ç›®é…ç½®å’Œä¾èµ–
â”œâ”€â”€ ğŸ“„ vite.config.js              # Vite æ„å»ºé…ç½®
â”œâ”€â”€ ğŸ“„ tailwind.config.js          # Tailwind CSS é…ç½®
â”œâ”€â”€ ğŸ“„ postcss.config.js           # PostCSS é…ç½®
â”œâ”€â”€ ğŸ“„ index.html                  # HTML å…¥å£æ–‡ä»¶
â”‚
â”œâ”€â”€ ğŸ“„ .env.example                # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ ğŸ“„ .gitignore                  # Git å¿½ç•¥æ–‡ä»¶
â”‚
â”œâ”€â”€ ğŸ“„ README.md                   # é¡¹ç›®ä»‹ç»
â”œâ”€â”€ ğŸ“„ INSTALL.md                  # å®‰è£…æŒ‡å—
â”œâ”€â”€ ğŸ“„ LICENSE                     # å¼€æºè®¸å¯è¯
â”œâ”€â”€ ğŸ“„ STRUCTURE.md                # é¡¹ç›®ç»“æ„è¯´æ˜ï¼ˆæœ¬æ–‡ä»¶ï¼‰
â”‚
â”œâ”€â”€ ğŸ“„ å¯åŠ¨è¯´æ˜.md                  # å¿«é€Ÿå¯åŠ¨æŒ‡å—
â”œâ”€â”€ ğŸ“„ å¼€å‘æŒ‡å—.md                  # å¼€å‘æ–‡æ¡£
â”œâ”€â”€ ğŸ“„ é¡¹ç›®è¯´æ˜.md                  # è¯¦ç»†é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ ğŸ“„ é¡¹ç›®æ€»è§ˆ.md                  # é¡¹ç›®æ¦‚è§ˆ
â”‚
â”œâ”€â”€ ğŸš€ start.bat                   # Windows å¯åŠ¨è„šæœ¬
â””â”€â”€ ğŸš€ start.sh                    # Mac/Linux å¯åŠ¨è„šæœ¬
```

## ç›®å½•è¯´æ˜

### ğŸ“ electron/ - Electron ä¸»è¿›ç¨‹
è´Ÿè´£æ¡Œé¢åº”ç”¨çš„çª—å£ç®¡ç†å’Œç³»ç»Ÿçº§åŠŸèƒ½ã€‚

**main.js**
- åˆ›å»ºå’Œç®¡ç†åº”ç”¨çª—å£
- å¤„ç†åº”ç”¨ç”Ÿå‘½å‘¨æœŸäº‹ä»¶
- åŠ è½½å‰ç«¯é¡µé¢ï¼ˆå¼€å‘/ç”Ÿäº§ç¯å¢ƒï¼‰

**preload.js**
- é¢„åŠ è½½è„šæœ¬
- æä¾›å®‰å…¨çš„ Node.js API è®¿é—®

### ğŸ“ server/ - åç«¯æœåŠ¡
åŸºäº Fastify çš„ RESTful API æœåŠ¡ã€‚

**index.js**
- API è·¯ç”±å®šä¹‰
- æ•°æ®åº“æ“ä½œ
- ä¸šåŠ¡é€»è¾‘å¤„ç†
- é”™è¯¯å¤„ç†

**config.js**
- æ•°æ®åº“é…ç½®
- æœåŠ¡å™¨é…ç½®
- JWT é…ç½®

### ğŸ“ src/ - å‰ç«¯åº”ç”¨
åŸºäº React çš„ç”¨æˆ·ç•Œé¢ã€‚

#### ğŸ“ api/
**index.js**
- Axios å®ä¾‹é…ç½®
- API æ¥å£å°è£…
- è¯·æ±‚/å“åº”æ‹¦æˆªå™¨

#### ğŸ“ components/
**Sidebar.jsx**
- å·¦ä¾§å¯¼èˆªæ 
- èœå•é¡¹ç®¡ç†
- è·¯ç”±åˆ‡æ¢

**CustomerList.jsx**
- å®¢æœåˆ—è¡¨å±•ç¤º
- å¢åˆ æ”¹æŸ¥æ“ä½œ
- æ•°æ®åŠ è½½å’Œåˆ·æ–°

**CustomerForm.jsx**
- å®¢æœä¿¡æ¯è¡¨å•
- è¡¨å•éªŒè¯
- æ•°æ®æäº¤

**SessionManagement.jsx**
- ä¼šè¯åˆ—è¡¨å±•ç¤º
- ä¼šè¯è¯¦æƒ…æŸ¥çœ‹
- ä¼šè¯çŠ¶æ€ç®¡ç†

**QualityInspection.jsx**
- è´¨æ£€åˆ—è¡¨å±•ç¤º
- è´¨æ£€è¯„åˆ†ç•Œé¢
- ç»¼åˆå¾—åˆ†è®¡ç®—

**Modal.jsx**
- é€šç”¨æ¨¡æ€æ¡†ç»„ä»¶
- æ”¯æŒè‡ªå®šä¹‰å†…å®¹
- åŠ¨ç”»æ•ˆæœ

### ğŸ“ database/
**init.sql**
- æ•°æ®åº“è¡¨ç»“æ„
- åˆå§‹æ•°æ®
- ç´¢å¼•åˆ›å»º

### é…ç½®æ–‡ä»¶

**package.json**
- é¡¹ç›®å…ƒä¿¡æ¯
- ä¾èµ–ç®¡ç†
- è„šæœ¬å‘½ä»¤
- Electron Builder é…ç½®

**vite.config.js**
- Vite æ„å»ºé…ç½®
- æ’ä»¶é…ç½®
- å¼€å‘æœåŠ¡å™¨é…ç½®

**tailwind.config.js**
- Tailwind CSS é…ç½®
- è‡ªå®šä¹‰é¢œè‰²ï¼ˆæµ…ç»¿è‰²ä¸»é¢˜ï¼‰
- æ‰©å±•é…ç½®

**postcss.config.js**
- PostCSS é…ç½®
- Tailwind CSS é›†æˆ
- Autoprefixer

**.env.example**
- ç¯å¢ƒå˜é‡æ¨¡æ¿
- æ•°æ®åº“é…ç½®ç¤ºä¾‹
- æœåŠ¡å™¨é…ç½®ç¤ºä¾‹

**.gitignore**
- Git å¿½ç•¥è§„åˆ™
- node_modules
- æ„å»ºè¾“å‡º
- ç¯å¢ƒå˜é‡æ–‡ä»¶

### æ–‡æ¡£æ–‡ä»¶

**README.md**
- é¡¹ç›®ä»‹ç»
- å¿«é€Ÿå¼€å§‹
- åŠŸèƒ½ç‰¹æ€§
- API æ–‡æ¡£

**INSTALL.md**
- è¯¦ç»†å®‰è£…æ­¥éª¤
- ç³»ç»Ÿè¦æ±‚
- å¸¸è§é—®é¢˜
- æ•…éšœæ’é™¤

**LICENSE**
- MIT å¼€æºè®¸å¯è¯

**å¯åŠ¨è¯´æ˜.md**
- å¿«é€Ÿå¯åŠ¨æŒ‡å—
- é¦–æ¬¡è¿è¡Œæ­¥éª¤
- æ—¥å¸¸ä½¿ç”¨è¯´æ˜

**å¼€å‘æŒ‡å—.md**
- å¼€å‘ç¯å¢ƒé…ç½®
- ä»£ç è§„èŒƒ
- è°ƒè¯•æŠ€å·§
- æ€§èƒ½ä¼˜åŒ–

**é¡¹ç›®è¯´æ˜.md**
- å®Œæ•´é¡¹ç›®æ–‡æ¡£
- æ¶æ„è®¾è®¡
- æ•°æ®æµç¨‹
- æ‰©å±•æ–¹å‘

**é¡¹ç›®æ€»è§ˆ.md**
- é¡¹ç›®æ¦‚è§ˆ
- æŠ€æœ¯æ ˆ
- åŠŸèƒ½æ¨¡å—
- ä½¿ç”¨åœºæ™¯

### å¯åŠ¨è„šæœ¬

**start.bat** (Windows)
- è‡ªåŠ¨æ£€æŸ¥ä¾èµ–
- åˆ›å»ºé…ç½®æ–‡ä»¶
- å¯åŠ¨æ‰€æœ‰æœåŠ¡

**start.sh** (Mac/Linux)
- è‡ªåŠ¨æ£€æŸ¥ä¾èµ–
- åˆ›å»ºé…ç½®æ–‡ä»¶
- å¯åŠ¨æ‰€æœ‰æœåŠ¡

## æ•°æ®æµå‘

```
ç”¨æˆ·æ“ä½œ
    â†“
React ç»„ä»¶ (src/components/)
    â†“
API è°ƒç”¨ (src/api/)
    â†“
HTTP è¯·æ±‚ (Axios)
    â†“
Fastify æœåŠ¡å™¨ (server/index.js)
    â†“
MySQL æ•°æ®åº“
    â†“
è¿”å›æ•°æ®
    â†“
æ›´æ–° UI
    â†“
Toast æé†’
```

## æŠ€æœ¯æ ˆå¯¹åº”

| ç›®å½•/æ–‡ä»¶ | æŠ€æœ¯æ ˆ | è¯´æ˜ |
|----------|--------|------|
| electron/ | Electron 28 | æ¡Œé¢åº”ç”¨å®¹å™¨ |
| server/ | Fastify 4 | åç«¯ API æœåŠ¡ |
| src/ | React 18 | å‰ç«¯ UI æ¡†æ¶ |
| src/index.css | Tailwind CSS | æ ·å¼æ¡†æ¶ |
| database/ | MySQL 8 | æ•°æ®åº“ |
| vite.config.js | Vite 5 | æ„å»ºå·¥å…· |

## å¼€å‘æµç¨‹

### 1. æ·»åŠ æ–°é¡µé¢
1. åœ¨ `src/components/` åˆ›å»ºæ–°ç»„ä»¶
2. åœ¨ `src/App.jsx` æ³¨å†Œè·¯ç”±
3. åœ¨ `src/components/Sidebar.jsx` æ·»åŠ èœå•é¡¹

### 2. æ·»åŠ æ–° API
1. åœ¨ `server/index.js` æ·»åŠ è·¯ç”±
2. åœ¨ `src/api/index.js` å°è£…æ¥å£
3. åœ¨ç»„ä»¶ä¸­è°ƒç”¨æ¥å£

### 3. ä¿®æ”¹æ ·å¼
1. ç¼–è¾‘ `tailwind.config.js` é…ç½®
2. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ Tailwind ç±»å
3. æˆ–åœ¨ `src/index.css` æ·»åŠ å…¨å±€æ ·å¼

### 4. æ•°æ®åº“å˜æ›´
1. ä¿®æ”¹ `database/init.sql`
2. æ›´æ–° `server/index.js` ä¸­çš„æŸ¥è¯¢
3. æµ‹è¯•æ•°æ®åº“æ“ä½œ

## æ„å»ºè¾“å‡º

### å¼€å‘æ¨¡å¼
- Vite å¼€å‘æœåŠ¡å™¨ï¼šhttp://localhost:5173
- Fastify API æœåŠ¡ï¼šhttp://localhost:3001
- Electron çª—å£ï¼šè‡ªåŠ¨æ‰“å¼€

### ç”Ÿäº§æ„å»º
```bash
npm run build
```
è¾“å‡ºç›®å½•ï¼š`dist-react/`

### åº”ç”¨æ‰“åŒ…
```bash
npm run package
```
è¾“å‡ºç›®å½•ï¼š`dist-app/`

## æ–‡ä»¶å¤§å°å‚è€ƒ

| æ–‡ä»¶/ç›®å½• | å¤§å° |
|----------|------|
| node_modules/ | ~500MB |
| src/ | ~50KB |
| server/ | ~10KB |
| electron/ | ~5KB |
| database/ | ~20KB |
| æ–‡æ¡£ | ~100KB |

## ä¾èµ–å…³ç³»

```
package.json
    â”œâ”€â”€ dependencies (è¿è¡Œæ—¶ä¾èµ–)
    â”‚   â”œâ”€â”€ react, react-dom
    â”‚   â”œâ”€â”€ fastify, @fastify/cors
    â”‚   â”œâ”€â”€ mysql2
    â”‚   â”œâ”€â”€ axios
    â”‚   â””â”€â”€ react-toastify
    â”‚
    â””â”€â”€ devDependencies (å¼€å‘ä¾èµ–)
        â”œâ”€â”€ electron
        â”œâ”€â”€ vite, @vitejs/plugin-react
        â”œâ”€â”€ tailwindcss, postcss, autoprefixer
        â””â”€â”€ concurrently, wait-on
```

## ç¯å¢ƒå˜é‡

**.env æ–‡ä»¶ç»“æ„**
```env
# æ•°æ®åº“é…ç½®
DB_HOST=localhost
DB_USER=root
DB_PASSWORD=your_password
DB_NAME=leixin_customer_service

# æœåŠ¡å™¨é…ç½®
PORT=3001
HOST=0.0.0.0

# JWT é…ç½®
JWT_SECRET=your-secret-key
```

## ç«¯å£ä½¿ç”¨

| ç«¯å£ | æœåŠ¡ | è¯´æ˜ |
|------|------|------|
| 3001 | Fastify API | åç«¯æœåŠ¡ |
| 5173 | Vite Dev Server | å‰ç«¯å¼€å‘æœåŠ¡å™¨ |
| 3306 | MySQL | æ•°æ®åº“ |

## æ³¨æ„äº‹é¡¹

1. **ä¸è¦æäº¤çš„æ–‡ä»¶**
   - node_modules/
   - .env
   - dist/
   - dist-react/
   - dist-app/

2. **å¿…é¡»é…ç½®çš„æ–‡ä»¶**
   - .envï¼ˆä» .env.example å¤åˆ¶ï¼‰

3. **é¦–æ¬¡è¿è¡Œå¿…é¡»**
   - å®‰è£…ä¾èµ–ï¼š`npm install`
   - åˆå§‹åŒ–æ•°æ®åº“ï¼š`mysql < database/init.sql`
   - é…ç½®ç¯å¢ƒå˜é‡ï¼šç¼–è¾‘ `.env`

4. **å¼€å‘æ—¶æ³¨æ„**
   - ä¿®æ”¹åç«¯ä»£ç éœ€è¦é‡å¯æœåŠ¡
   - ä¿®æ”¹å‰ç«¯ä»£ç ä¼šè‡ªåŠ¨çƒ­é‡è½½
   - ä¿®æ”¹ Electron ä¸»è¿›ç¨‹éœ€è¦é‡å¯åº”ç”¨

---

**ç‰ˆæœ¬ï¼š** 1.0.0
**æœ€åæ›´æ–°ï¼š** 2024-11-09
